<!-- Add Product Modal -->
<div id="addProductModal"
    class="modal fixed inset-0 bg-black/50 backdrop-blur-sm flex items-end lg:items-center justify-center hidden z-50">
    <div
        class="bg-white w-full lg:w-[70%] max-w-4xl rounded-t-2xl lg:rounded-2xl p-6 lg:p-10 max-h-[90vh] overflow-y-auto relative">
        <!-- Close Button -->
        <button onclick="closeAddProductModal()"
            class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 transition">
            <i class="fa-solid fa-xmark text-2xl"></i>
        </button>

        <!-- Title -->
        <h2 class="text-xl lg:text-2xl font-bold mb-6 text-gray-800 text-center lg:text-left border-b pb-2">
            Add Product
        </h2>

        <!-- Form -->
        <form id="addProductForm" class="space-y-5 lg:space-y-6" onsubmit="addProduct(event)">
            <!-- Row 1 -->
            <div class="space-y-5 lg:grid lg:grid-cols-2 lg:gap-6 lg:space-y-0">
                <div>
                    <label for="addName" class="block text-sm font-medium mb-1">Product Name</label>
                    <input id="addName" type="text" name="name" placeholder="Enter product name"
                        class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none" required />
                </div>
                <div>
                    <label for="addCompany" class="block text-sm font-medium mb-1">Company Name</label>
                    <input id="addCompany" type="text" name="company" placeholder="Enter company name"
                        value="Shri Ganga Herbal"
                        class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none" required />
                </div>
            </div>

            <!-- Row 2 -->
            <div class="space-y-5 lg:grid lg:grid-cols-2 lg:gap-6 lg:space-y-0">
                <div>
                    <label for="addDiseases" class="block text-sm font-medium mb-1">Diseases</label>
                    <input id="addDiseases" type="text" name="diseases" placeholder="Enter disease name"
                        class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none" required />
                </div>
                <div>
                    <label for="addImageUrl" class="block text-sm font-medium mb-1">Image URL</label>
                    <input id="addImageUrl" type="text" name="imageUrl" placeholder="/Uploads/img.png OR http://..."
                        class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none" />
                </div>
            </div>

            <!-- Row 3 -->
            <div class="space-y-5 lg:grid lg:grid-cols-2 lg:gap-6 lg:space-y-0">
                <div>
                    <label for="addPrice" class="block text-sm font-medium mb-1">Price (â‚¹)</label>
                    <input id="addPrice" type="number" step="0.01" name="price" placeholder="e.g. 120.50"
                        class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none" required />
                </div>
                <div>
                    <label for="addStock" class="block text-sm font-medium mb-1">Stock</label>
                    <input id="addStock" type="number" name="stock" placeholder="e.g. 50"
                        class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none" required />
                </div>
            </div>

            <!-- Row 4 -->
            <div class="space-y-5 lg:grid lg:grid-cols-2 lg:gap-6 lg:space-y-0">
                <div>
                    <label for="addDescription" class="block text-sm font-medium mb-1">About Product</label>
                    <textarea id="addDescription" name="description" rows="2" placeholder="Short product description..."
                        class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"></textarea>
                </div>
                <div>
                    <label for="addCategory" class="block text-sm font-medium mb-1">Category</label>
                    <select id="addCategory" name="category"
                        class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none" required>
                        <?php foreach ($categories as $c): ?>
                        <option value="<?= $c['id'] ?>">
                            <?= htmlspecialchars($c['name'] ?? '') ?>
                        </option>
                        <?php endforeach; ?>
                    </select>
                </div>
            </div>

            <!-- Variants -->
            <!-- Variants -->
            <div>
                <div class="flex items-center gap-2 mb-2">
                    <label class="block text-sm font-medium">Variants (Weight, Price)</label>
                    <button type="button" onclick="addVariantRow('editVariants')"
                        class="bg-blue-600 text-white text-center rounded-lg md:w-[5rem] w-[3rem] hover:bg-blue-700 transition">
                        +
                    </button>
                </div>
                <div id="editVariants" class="space-y-2">
                    <div class="variant-row flex justify-between items-center w-full ">
                        <input type="text" placeholder="Weight (e.g., 100g)"
                            class="flex-1 border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none w-[40%]" />
                        <input type="number" step="0.01" placeholder="Price"
                            class="flex-1 border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none w-[40%]" />

                        <button type="button" onclick="removeVariant(this)"
                            class="bg-red-500 md:w-[5rem] w-[3rem] text-white rounded-lg px-3 py-1 hover:bg-red-600 transition w-[10%]">X</button>
                    </div>
                </div>
            </div>
            <!-- Submit -->
            <div class="pt-2 lg:text-right">
                <button type="submit"
                    class="w-full lg:w-auto bg-green-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-green-700 transition">
                    Add Product
                </button>
            </div>
    </div>

</div>
</form>
</div>
</div>